(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{154:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return d}));var n=a(0),r=a.n(n);function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){p(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},p=Object.keys(e);for(n=0;n<p.length;n++)a=p[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(n=0;n<p.length;n++)a=p[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var c=r.a.createContext({}),s=function(e){var t=r.a.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},b=function(e){var t=s(e.components);return r.a.createElement(c.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},g=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,p=e.originalType,i=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),b=s(a),g=n,d=b["".concat(i,".").concat(g)]||b[g]||h[g]||p;return a?r.a.createElement(d,o(o({ref:t},c),{},{components:a})):r.a.createElement(d,o({ref:t},c))}));function d(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var p=a.length,i=new Array(p);i[0]=g;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:n,i[1]=o;for(var c=2;c<p;c++)i[c]=a[c];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,a)}g.displayName="MDXCreateElement"},95:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return i})),a.d(t,"metadata",(function(){return o})),a.d(t,"toc",(function(){return l})),a.d(t,"default",(function(){return s}));var n=a(3),r=a(7),p=(a(0),a(154)),i={title:"Deep linking",sidebar_label:"Deep linking",slug:"deep-linking"},o={unversionedId:"deep-linking",id:"deep-linking",isDocsHomePage:!1,title:"Deep linking",description:'Deep linking is the use of a hyperlink that links to a specific, generally searchable or indexed, piece of web content on a website (e.g. "http//example.com"). The URL contains all the information needed to point to a particular item.',source:"@site/docs/deep-linking.md",slug:"/deep-linking",permalink:"/docs/deep-linking",editUrl:"https://github.com/pglet/website/edit/master/docs/deep-linking.md",version:"current",sidebar_label:"Deep linking",sidebar:"someSidebar",previous:{title:"Node.js tutorial",permalink:"/docs/tutorials/node"},next:{title:"Pglet Server installation",permalink:"/docs/pglet-server/installation"}},l=[{value:"Reading page hash",id:"reading-page-hash",children:[]},{value:"Watching hash changes",id:"watching-hash-changes",children:[]},{value:"Updating page hash",id:"updating-page-hash",children:[]}],c={toc:l};function s(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(p.b)("wrapper",Object(n.a)({},c,a,{components:t,mdxType:"MDXLayout"}),Object(p.b)("p",null,Object(p.b)("em",{parentName:"p"},Object(p.b)("a",Object(n.a)({parentName:"em"},{href:"https://en.wikipedia.org/wiki/Deep_linking"}),"Deep linking"),' is the use of a hyperlink that links to a specific, generally searchable or indexed, piece of web content on a website (e.g. "',Object(p.b)("a",Object(n.a)({parentName:"em"},{href:"http://example.com/path/page%22"}),'http://example.com/path/page"'),"), rather than the website's home page (e.g., \"",Object(p.b)("a",Object(n.a)({parentName:"em"},{href:"http://example.com%22"}),'http://example.com"'),"). The URL contains all the information needed to point to a particular item.")),Object(p.b)("p",null,'As every Pglet page is, essentially, a web app it would be "natural" being able to "navigate" between application areas (or states) by providing direct URL to the part.'),Object(p.b)("p",null,'For example, we might have two tabs in the app: "Products" and "Services". The current way to get onto "Services" tab is to open app URL ',Object(p.b)("a",Object(n.a)({parentName:"p"},{href:"http://pglet/myapp"}),"http://pglet/myapp"),' which, by default, starts with "Products" screen and then click "Services" tab. But how do we provide a direct link to "Services" page?'),Object(p.b)("p",null,"Similar to Single-Page App (SPA) frameworks Pglet utilizes URL hash to navigate (switch) between multiple application states, e.g. ",Object(p.b)("a",Object(n.a)({parentName:"p"},{href:"http://pglet/myapp#Services"}),"http://pglet/myapp",Object(p.b)("strong",{parentName:"a"},"#Services")),"."),Object(p.b)("h2",{id:"reading-page-hash"},"Reading page hash"),Object(p.b)("p",null,"On the start of a new app session you can read ",Object(p.b)("inlineCode",{parentName:"p"},"hash")," property of the ",Object(p.b)("inlineCode",{parentName:"p"},"page")," control to get the initial page hash and based on that decide what initial screen to present to a user."),Object(p.b)("p",null,"For example, you build a page with ",Object(p.b)("inlineCode",{parentName:"p"},"Tabs"),' control and 3 tabs: "Home", "Products" and "Services":'),Object(p.b)("pre",null,Object(p.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),'pglet_send "add\n  tabs id=tabs1\n    tab text=Home\n    tab text=Products\n    tab text=Services"\n')),Object(p.b)("p",null,"You may decide that the value in the page hash is the name of the selected tab, so user can use ",Object(p.b)("a",Object(n.a)({parentName:"p"},{href:"https://app-url/#Products"}),"https://app-url/",Object(p.b)("strong",{parentName:"a"},"#Products")),' URL to open "Products" tab right away when a new session starts.'),Object(p.b)("p",null,"You can retrieve ",Object(p.b)("inlineCode",{parentName:"p"},"hash")," property of ",Object(p.b)("inlineCode",{parentName:"p"},"page")," control and set as a ",Object(p.b)("inlineCode",{parentName:"p"},"value")," (selected tab) of tabs control:"),Object(p.b)("pre",null,Object(p.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),'page_hash=$(pglet_send "get page hash")\npglet_set "tabs1 value=$page_hash"\n')),Object(p.b)("h2",{id:"watching-hash-changes"},"Watching hash changes"),Object(p.b)("p",null,"To get notified every time a user updates URL hash manually or by clicking a link you can watch for ",Object(p.b)("inlineCode",{parentName:"p"},"hash")," event of ",Object(p.b)("inlineCode",{parentName:"p"},"page")," control."),Object(p.b)("p",null,"For example, you can update selected tab every time page hash changes:"),Object(p.b)("pre",null,Object(p.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),'while true\ndo\n    pglet_wait_event\n    if [[ "$PGLET_EVENT_TARGET" == "page" && "$PGLET_EVENT_NAME" == "hash" ]]; then\n        pglet_set "tabs1 value=$PGLET_EVENT_DATA"\n    fi\ndone\n')),Object(p.b)("p",null,"Event data ",Object(p.b)("inlineCode",{parentName:"p"},"$PGLET_EVENT_DATA")," contains a new value of page hash."),Object(p.b)("h2",{id:"updating-page-hash"},"Updating page hash"),Object(p.b)("p",null,"You can update page hash from your program by setting ",Object(p.b)("inlineCode",{parentName:"p"},"hash")," property of ",Object(p.b)("inlineCode",{parentName:"p"},"page")," control."),Object(p.b)("p",null,"For example, every time a new tab selected we can update page hash to the selected tab:"),Object(p.b)("pre",null,Object(p.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),'if [[ "$PGLET_EVENT_TARGET" == "tabs1" ]]; then\n    page_hash=$(pglet_get_value "tabs1")\n    pglet_set "page hash=$page_hash"\nfi\n')),Object(p.b)("p",null,"You can play with the example from this guide and see its full sources on Repl.it: ",Object(p.b)("a",Object(n.a)({parentName:"p"},{href:"https://repl.it/@pglet/bash-page-hash-demo"}),"https://repl.it/@pglet/bash-page-hash-demo")),Object(p.b)("p",null,"Try the following:"),Object(p.b)("ol",null,Object(p.b)("li",{parentName:"ol"},"Open default app URL without a hash: ",Object(p.b)("a",Object(n.a)({parentName:"li"},{href:"https://bash-page-hash-demo--pglet.repl.co"}),"https://bash-page-hash-demo--pglet.repl.co"),' - "Home" tab will be active.'),Object(p.b)("li",{parentName:"ol"},"Click on tabs and see URL hash changing to the selected tab name - that's page hash changing by the program."),Object(p.b)("li",{parentName:"ol"},'Click "Services" tab, copy page URL and then open it in a new browser window ',Object(p.b)("a",Object(n.a)({parentName:"li"},{href:"https://bash-page-hash-demo--pglet.repl.co/#Services"}),"https://bash-page-hash-demo--pglet.repl.co/#Services"),' - "Services" tab will be selected.')))}s.isMDXComponent=!0}}]);